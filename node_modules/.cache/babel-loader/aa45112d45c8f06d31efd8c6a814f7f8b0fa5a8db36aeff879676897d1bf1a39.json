{"ast":null,"code":"import React from\"react\";import{LineChart,Line,XAxis,YAxis,Tooltip,ResponsiveContainer,Rectangle// utilisé pour créer un curseur personnalisé au survol\n}from\"recharts\";import\"../styles/averageSessionsGraph.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var AverageSessionsGraph=function AverageSessionsGraph(_ref){var data=_ref.data;if(!data||data.length===0)return null;// Si data n’existe pas ou est vide = on n’affiche rien. évite les erreurs de rendu\nvar days=[\"L\",\"M\",\"M\",\"J\",\"V\",\"S\",\"D\"];// Recharts attend des données formatées\nvar chartData=data.map(function(item){return{day:days[item.day-1],value:item.sessionLength// durée de la session.\n};});// on déclare un composant interne pour le tooltip\nvar CustomTooltip=function CustomTooltip(_ref2){var active=_ref2.active,payload=_ref2.payload;// active : true quand on survole un point / payload : contient la valeur de la donnée survolée\nif(active&&payload&&payload.length){// vérification tooltip est actif + des données existent\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"sessions-tooltip\",children:[payload[0].value,\" min\"]});}return null;// si pas de survol = on affiche rien\n};// Curseur sombre au survol (2e nuance de rouge)\nvar CustomCursor=function CustomCursor(_ref3){var points=_ref3.points,width=_ref3.width,height=_ref3.height;var x=points[0].x;// position horizontale du point survolé\nreturn/*#__PURE__*/ (// on récupère la coordonnée X du point actif \n_jsx(Rectangle// on dessine un rectangle sombre semi-transparent\n,{fill:\"rgba(0, 0, 0, 0.1)\",x:x,y:0,width:width,height:height}));};return/*#__PURE__*/ (// Conteneur principal du graphique\n_jsxs(\"div\",{className:\"average-sessions-graph\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"sessions-title\",children:\"Dur\\xE9e moyenne des sessions\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(LineChart,{data:chartData// données formatées\n,margin:{top:60,right:20,left:20,bottom:20},children:[/*#__PURE__*/_jsx(YAxis,{hide:true,domain:[\"dataMin - 10\",\"dataMax + 10\"]}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"day\",axisLine:false,tickLine:false,stroke:\"rgba(255,255,255,0.6)\"// Texte blanc légèrement transparent\n,tick:{fontSize:12}}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})// tooltip personnalisé\n,cursor:/*#__PURE__*/_jsx(CustomCursor,{})// curseur sombre au survol.\n}),/*#__PURE__*/_jsx(Line,{type:\"monotone\"// courbe fluide\n,dataKey:\"value\",stroke:\"#FFFFFF\",strokeWidth:2,dot:false,activeDot:{r:4,strokeWidth:0}// Petit point uniquement au survol\n})]})})]}));};export default AverageSessionsGraph;","map":{"version":3,"names":["React","LineChart","Line","XAxis","YAxis","Tooltip","ResponsiveContainer","Rectangle","jsxs","_jsxs","jsx","_jsx","AverageSessionsGraph","_ref","data","length","days","chartData","map","item","day","value","sessionLength","CustomTooltip","_ref2","active","payload","className","children","CustomCursor","_ref3","points","width","height","x","fill","y","margin","top","right","left","bottom","hide","domain","dataKey","axisLine","tickLine","stroke","tick","fontSize","content","cursor","type","strokeWidth","dot","activeDot","r"],"sources":["/Users/kechitsonia/Desktop/OCR/DEV_FRONT/PROJET 12/SportSee-Front/src/components/AverageSessionsGraph.js"],"sourcesContent":["import React from \"react\";\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  Rectangle, // utilisé pour créer un curseur personnalisé au survol\n} from \"recharts\";\nimport \"../styles/averageSessionsGraph.css\";\n\nconst AverageSessionsGraph = ({ data }) => {\n  if (!data || data.length === 0) return null; // Si data n’existe pas ou est vide = on n’affiche rien. évite les erreurs de rendu\n  const days = [\"L\", \"M\", \"M\", \"J\", \"V\", \"S\", \"D\"];\n\n  // Recharts attend des données formatées\n  const chartData = data.map((item) => ({\n    day: days[item.day - 1],\n    value: item.sessionLength, // durée de la session.\n  }));\n\n  // on déclare un composant interne pour le tooltip\n  const CustomTooltip = ({ active, payload }) => { // active : true quand on survole un point / payload : contient la valeur de la donnée survolée\n    if (active && payload && payload.length) { // vérification tooltip est actif + des données existent\n      return (\n        <div className=\"sessions-tooltip\">\n          {payload[0].value} min\n        </div>\n      );\n    }\n    return null; // si pas de survol = on affiche rien\n  };\n\n  // Curseur sombre au survol (2e nuance de rouge)\n  const CustomCursor = ({ points, width, height }) => {\n    const { x } = points[0]; // position horizontale du point survolé\n    return ( // on récupère la coordonnée X du point actif \n      <Rectangle // on dessine un rectangle sombre semi-transparent\n        fill=\"rgba(0, 0, 0, 0.1)\"\n        x={x}\n        y={0}\n        width={width}\n        height={height}\n      />\n    );\n  };\n\n  return (\n    // Conteneur principal du graphique\n    <div className=\"average-sessions-graph\">\n      {/* Titre DANS le graph */}\n      <h3 className=\"sessions-title\">Durée moyenne des sessions</h3>\n      {/* Permet au graphique de s’adapter automatiquement à son parent */}\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart\n          data={chartData} // données formatées\n          margin={{ top: 60, right: 20, left: 20, bottom: 20 }}\n        >\n          {/* Axe Y caché mais obligatoire */}\n          <YAxis hide domain={[\"dataMin - 10\", \"dataMax + 10\"]} />\n          {/* Axe X jours */}\n          <XAxis\n            dataKey=\"day\"\n            axisLine={false}\n            tickLine={false}\n            stroke=\"rgba(255,255,255,0.6)\" // Texte blanc légèrement transparent\n            tick={{ fontSize: 12 }}\n          />\n          <Tooltip\n            content={<CustomTooltip />} // tooltip personnalisé\n            cursor={<CustomCursor />} // curseur sombre au survol.\n          />\n          {/* Courbe */}\n          <Line\n            type=\"monotone\" // courbe fluide\n            dataKey=\"value\"\n            stroke=\"#FFFFFF\"\n            strokeWidth={2}\n            dot={false}\n            activeDot={{ r: 4, strokeWidth: 0 }} // Petit point uniquement au survol\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\nexport default AverageSessionsGraph;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}